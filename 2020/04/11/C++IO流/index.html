<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="C++IO流：IO流类，istream status(状态位)，cout，cin，if(!fs)/while(cin), SkilledBeginner">
    <meta name="description" content="努力做一个很厉害的人">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>C++IO流：IO流类，istream status(状态位)，cout，cin，if(!fs)/while(cin) | SkilledBeginner</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">SkilledBeginner</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">SkilledBeginner</div>
        <div class="logo-desc">
            
            努力做一个很厉害的人
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/BeginnerMin" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/BeginnerMin" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/10.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">C++IO流：IO流类，istream status(状态位)，cout，cin，if(!fs)/while(cin)</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/C-%E6%B5%81/">
                                <span class="chip bg-color">C++流</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/C/" class="post-category">
                                C++
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-04-11
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-04-11
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    15 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><p>目前为止，cin 和 cout 充当了 scanf 和 printf 的功能。</p>
<p>但他们并不是函数，而是类对象，</p>
<p>那么我们就有必要了解一下，他们是哪些类的对象。</p>
<h2 id="IO流类"><a href="#IO流类" class="headerlink" title="IO流类"></a>IO流类</h2><h3 id="Hierarchy-层次架构"><a href="#Hierarchy-层次架构" class="headerlink" title="Hierarchy(层次架构)"></a>Hierarchy(层次架构)</h3><p><img src="https://img-blog.csdnimg.cn/20200411231518310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ4NzUx,size_16,color_FFFFFF,t_70" alt="ios层次框架"></p>
<p><strong>cin是isream的对象，cout是ostream的对象。</strong></p>
<h3 id="流类特性-从ios继承下来的共有的特性"><a href="#流类特性-从ios继承下来的共有的特性" class="headerlink" title="流类特性(从ios继承下来的共有的特性)"></a>流类特性(从ios继承下来的共有的特性)</h3><h4 id="不可赋值和复制"><a href="#不可赋值和复制" class="headerlink" title="不可赋值和复制"></a>不可赋值和复制</h4><p>fstream也是上面类中继承的一种。</p>
<p>我们之前使用</p>
<pre><code>ostream &amp; &lt;&lt;(ostream &amp; out ,xxx)</code></pre><p><code>ostream &amp; out</code> 这里是&amp;因为cin和cout都是全局的，所以我们在博客中说是没有必要赋值一份，实际上想要复制也是不能实现的，因为是不能赋值和复制的。</p>
<p>凡是上面给出的继承ios体系结构，都遵循不能赋值不能复制的规则</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;

void foo(fstream fd) 
{

}
int main()
{
    fstream fs1, fs2;
    fs1 = fs2; //报错,不允许赋值
    foo(fs);  //报错，不允许复制
    return 0;
}</code></pre><p>上面赋值运算符重载和拷贝构造成员被private私有化，所以不允许使用。</p>
<p>不同于标准库其他 class 的”值语意”，iostream 是”对象语意”，即 iostream 是non-copyable。这是正确的，因为如果 fstream 代表一个文件的话，拷贝一个 fstream 对象意味着什么呢？表示打开了两个文件吗？如果销毁一个 fstream 对象，它会关闭文件句柄，那么另一个 fstream copy 对象会因此受影响吗？</p>
<p>C++ 同时支持”数据抽象”和”面向对象编程”，其实主要就是”值语意”与”对象语意”的区别，标准库里的 complex&lt;&gt; 、pair&lt;&gt;、vector&lt;&gt;、 string 等等都是值语意，拷贝之后就与原对象脱离关系，就跟拷贝一个 int 一样。而我们自己写的 Employee class、TcpConnection class 通常是对象语意，拷贝一个 Employee 对象是没有意义的，一个雇员不会变成两个雇员，他也不会领两份薪水。拷贝 TcpConnection 对象也没有意义，系统里边只有一个 TCP 连接，拷贝 TcpConnection 对象不会让我们拥有两个连接。因此如果在 C++ 里做面向对象编程，写的 class 通常应该禁用 copy constructor 和 assignment  operator。</p>
<h4 id="缓冲"><a href="#缓冲" class="headerlink" title="缓冲"></a>缓冲</h4><p>下面几种情况会导致刷缓冲</p>
<p><strong>1，程序正常结束，作为 main 函数结束的一部分，将清空所有缓冲区。</strong></p>
<p><strong>2，缓冲区满，则会刷缓冲。</strong></p>
<p><strong>3，endl, flush 也会刷缓冲。</strong></p>
<p>对比C语言printf函数刷新缓冲进行理解。</p>
<h4 id="重载了-lt-lt-gt-gt"><a href="#重载了-lt-lt-gt-gt" class="headerlink" title="重载了&lt;&lt; &gt;&gt;"></a>重载了&lt;&lt; &gt;&gt;</h4><pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;
int main()
{
    fstream fs(&quot;abc.txt&quot;, ios::in | ios::out | ios::trunc); //trunc等价于C语言文件操作w+
    if (!fs)
    cout &lt;&lt; &quot;open error&quot; &lt;&lt; endl;
    fs &lt;&lt; 1 &lt;&lt; &quot; &quot; &lt;&lt; 2 &lt;&lt; &quot; &quot; &lt;&lt; 3;
    fs.seekg(0, ios::beg);
    int x, y, z;
    fs &gt;&gt; x &gt;&gt; y &gt;&gt; z;
    cout &lt;&lt; x &lt;&lt; y &lt;&lt; z;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411231854289.png" alt="重载&lt;&lt;&gt;&gt;运行结果"></p>
<p><img src="https://img-blog.csdnimg.cn/20200411231904967.png" alt="打开文件"></p>
<p><strong>所有的流类都重载了&lt;&lt;和&gt;&gt;</strong></p>
<h2 id="istream-status-状态位"><a href="#istream-status-状态位" class="headerlink" title="istream status(状态位)"></a>istream status(状态位)</h2><h3 id="状态位的意义"><a href="#状态位的意义" class="headerlink" title="状态位的意义"></a>状态位的意义</h3><p>大部分情况下，我们可能并不关心这些标志状态位，比如我们以前用到的 cin/cout。</p>
<p>但是在循环读写中，这些标志位确实有大用途。比如，用于判断文件结束标志的位。</p>
<h3 id="ios-base-h-中的状态位"><a href="#ios-base-h-中的状态位" class="headerlink" title="ios_base.h 中的状态位"></a>ios_base.h 中的状态位</h3><pre><code>/// Indicates a loss of integrity in an input or output sequence (such
/// as an irrecoverable read error from a file).
static const iostate t badbit = _S_badbit;
/// Indicates that an input operation reached the end of an input sequence.
static const iostate t eofbit = _S_eofbit;
/// Indicates that an input operation failed to read the expected
/// characters, or that an output operation failed to generate the
/// desired characters.
static const iostate t failbit = _S_failbit;
/// Indicates all is well.
static const iostate t goodbit = _S_goodbit;</code></pre><h3 id="状态位操作函数"><a href="#状态位操作函数" class="headerlink" title="状态位操作函数"></a>状态位操作函数</h3><p><img src="https://img-blog.csdnimg.cn/20200411232031889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ4NzUx,size_16,color_FFFFFF,t_70" alt="状态位操作函数"></p>
<h3 id="测试与结论"><a href="#测试与结论" class="headerlink" title="测试与结论"></a>测试与结论</h3><p>测试(通过成员函数来访问)</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    int val;
    cout &lt;&lt; &quot;Before a bad input operation:&quot;
        &lt;&lt; &quot;\n cin.eof() : &quot; &lt;&lt; cin.eof()
        &lt;&lt; &quot;\n cin.fail(): &quot; &lt;&lt; cin.fail()
        &lt;&lt; &quot;\n cin.bad() : &quot; &lt;&lt; cin.bad()
        &lt;&lt; &quot;\n cin.good(): &quot; &lt;&lt; cin.good() &lt;&lt; endl;
    cin &gt;&gt; val; // control + D/Z or &apos;a&apos;
    cout &lt;&lt; &quot;After a bad input operation:&quot;
        &lt;&lt; &quot;\n cin.eof() : &quot; &lt;&lt; cin.eof()
        &lt;&lt; &quot;\n cin.fail(): &quot; &lt;&lt; cin.fail()
        &lt;&lt; &quot;\n cin.bad() : &quot; &lt;&lt; cin.bad()
        &lt;&lt; &quot;\n cin.good(): &quot; &lt;&lt; cin.good() &lt;&lt; endl;
    cin.clear();//标志位清空
    cout &lt;&lt; &quot;\n cin.eof() : &quot; &lt;&lt; cin.eof()
        &lt;&lt; &quot;\n cin.fail(): &quot; &lt;&lt; cin.fail()
        &lt;&lt; &quot;\n cin.bad() : &quot; &lt;&lt; cin.bad()
        &lt;&lt; &quot;\n cin.good(): &quot; &lt;&lt; cin.good() &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/2020041123211023.png" alt="运行结果"></p>
<p>我们进行其他输入测试：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232124120.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ4NzUx,size_16,color_FFFFFF,t_70" alt="运行结果"></p>
<p><strong>输入浮点类型数据没有问题。因为读取到的也是4个字节没有问题。</strong></p>
<p><img src="https://img-blog.csdnimg.cn/20200411232142481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ4NzUx,size_16,color_FFFFFF,t_70" alt="运行结果"></p>
<p><strong>输入字符出现错误。字符所占1个字节，读取的时候读取4个字节，发生越界。</strong></p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p><img src="https://img-blog.csdnimg.cn/20200411232213463.png" alt="结论"></p>
<p><strong>bad 一般指的是硬件错误，不常用。</strong></p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
char ch;
while(cin.get(ch),!cin.eof())
{
cout&lt;&lt;ch&lt;&lt;endl;
}
return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232248189.png" alt="运行结果"></p>
<h2 id="cout"><a href="#cout" class="headerlink" title="cout"></a>cout</h2><h3 id="格式输出"><a href="#格式输出" class="headerlink" title="格式输出"></a>格式输出</h3><p><img src="https://img-blog.csdnimg.cn/20200411232320196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ4NzUx,size_16,color_FFFFFF,t_70" alt="格式输出"></p>
<h3 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h3><p><img src="https://img-blog.csdnimg.cn/20200411232339441.png" alt="成员函数"></p>
<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;
int main()
{
    cout.put(&apos;a&apos;);
    cout.write(&quot;abcd&quot;, 2) &lt;&lt; endl; //里面数字不能越界
    cout &lt;&lt; &apos;a&apos; &lt;&lt; &quot;abcd&quot; &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232401980.png" alt="运行结果"></p>
<p>上面函数基本不会使用到，我们更多的会直接使用cin</p>
<h2 id="cin"><a href="#cin" class="headerlink" title="cin"></a>cin</h2><h3 id="gt-gt"><a href="#gt-gt" class="headerlink" title="&gt;&gt;"></a>&gt;&gt;</h3><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch;
    while (cin &gt;&gt; ch)  //通过返回值判断真假
    {
        cout &lt;&lt; ch &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232451475.png" alt="运行结果"></p>
<h3 id="get"><a href="#get" class="headerlink" title="get"></a>get</h3><h4 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h4><p><img src="https://img-blog.csdnimg.cn/20200411232512327.png" alt="get声明"></p>
<h3 id="get-get-amp"><a href="#get-get-amp" class="headerlink" title="get()/get(&amp;)"></a>get()/get(&amp;)</h3><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch;
    while ((ch = cin.get()) != EOF)
    {
        cout &lt;&lt; ch &lt;&lt; endl;
    }
    while (cin.get(ch))
    {
        cout &lt;&lt; ch &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232549802.png" alt="运行结果"></p>
<h4 id="get-s-n-get-s-n-d"><a href="#get-s-n-get-s-n-d" class="headerlink" title="get(s,n)/get(s,n,d)"></a>get(s,n)/get(s,n,d)</h4><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    while (cin.get(buf, 2))  //终止符为’\n’
    {
        cout &lt;&lt; buf &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232616195.png" alt="运行结果"></p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    while (cin.get(buf, 20, &apos;x&apos;))//以字符’x’为结束标记
    {
        cout &lt;&lt; buf &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232638537.png" alt="运行结果"></p>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>get 读取字符，遇到 eof 则退出。get 最多读到 n-1 个字符，遇到标志位或 eof，则退出。 越不过标志位。</p>
<p>上面两个设置结束标志’\n’和’x’的函数遇到\n和x会直接退出，不会再次循环。所以我们引入下面函数。</p>
<h3 id="getline"><a href="#getline" class="headerlink" title="getline"></a>getline</h3><h4 id="声明-1"><a href="#声明-1" class="headerlink" title="声明"></a>声明</h4><p><img src="https://img-blog.csdnimg.cn/20200411232729825.png" alt="getline声明"></p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    while (cin.getline(buf, 10,&apos;x&apos;))
    {
        cout &lt;&lt; buf &lt;&lt; endl;
    }
    cout &lt;&lt; &quot;\ncin.eof() : &quot; &lt;&lt; cin.eof()
        &lt;&lt; &quot;\ncin.fail(): &quot; &lt;&lt; cin.fail()
        &lt;&lt; &quot;\ncin.bad() : &quot; &lt;&lt; cin.bad()
        &lt;&lt; &quot;\ncin.good(): &quot; &lt;&lt; cin.good() &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232758990.png" alt="运行结果"></p>
<p>上面代码运行过程中，如果输入标志位之前的数据个数小于设置读取的最小个数，则会读取输入的数据并且跳过标志位继续读取，如果输入标志位之前的数据个数大于设置读取的最大个数，则会直接退出程序。</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    while (cin.getline(buf, 10))
    {
        cout &lt;&lt; buf &lt;&lt; endl;
    }
    cout &lt;&lt; &quot;\ncin.eof() : &quot; &lt;&lt; cin.eof()
        &lt;&lt; &quot;\ncin.fail(): &quot; &lt;&lt; cin.fail()
        &lt;&lt; &quot;\ncin.bad() : &quot; &lt;&lt; cin.bad()
        &lt;&lt; &quot;\ncin.good(): &quot; &lt;&lt; cin.good() &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232821907.png" alt="运行结果"></p>
<p>在读取 n-1 个字符前，遇到标志位，则会读到标志位前的字符。然后越过标志位继续读取。</p>
<p>若在读到 n-1 个字符前没有遇到标志位，则会退出。</p>
<p>也就说如果输入的字符个数小于读取的字符个数那么就会直接读取读取并且跳过标志位，如果输入的字符多于读取的个数则会退出。</p>
<h4 id="cin输入字符串中的空格"><a href="#cin输入字符串中的空格" class="headerlink" title="cin输入字符串中的空格"></a>cin输入字符串中的空格</h4><p>之前我们使用cin输入字符串就会出现这样的问题：</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    cin &gt;&gt; buf;
cout &lt;&lt; buf &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232903509.png" alt="运行结果"></p>
<p>但是如果使用下面方式：</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char buf[10];
    cin.getline(buf,10);
    cout &lt;&lt; buf &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411232918753.png" alt="运行结果"></p>
<h3 id="other"><a href="#other" class="headerlink" title="other"></a>other</h3><h4 id="声明-2"><a href="#声明-2" class="headerlink" title="声明"></a>声明</h4><p><img src="https://img-blog.csdnimg.cn/20200411232954623.png" alt="声明"></p>
<h4 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h4><pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch[20];
    cin.get(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;the first part is :&quot; &lt;&lt; ch &lt;&lt; endl;


    cin.get(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;this second part is :&quot; &lt;&lt; ch &lt;&lt; endl;

    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233019212.png" alt="运行结果"></p>
<p><strong>我们可以看到get遇到/会直接结束。</strong></p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch[20];
    cin.getline(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;the first part is :&quot; &lt;&lt; ch &lt;&lt; endl;

    cin.getline(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;this second part is :&quot; &lt;&lt; ch &lt;&lt; endl;

    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233054388.png" alt="运行结果"></p>
<p>get 越不过去的截止字符，getline 越过丢弃的截止字符，如何作一些，补偿措施呢？</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch[20];
    cin.get(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;the first part is :&quot; &lt;&lt; ch &lt;&lt; endl;
    cin.ignore(10, &apos;i&apos;);  //第一次读取到/之后，忽略，直到遇到i位置没并且连i也忽略掉。
    cin.get(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;this second part is:&quot; &lt;&lt; ch &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233115757.png" alt="运行结果"></p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    char ch[20];
    cin.get(ch, 20, &apos;/&apos;); // i like c/ i like C++ also/
    cout &lt;&lt; &quot;the first part is :&quot; &lt;&lt; ch &lt;&lt; endl;
    cin.ignore(10, &apos;i&apos;); 
 //第一次读取到/之后，往后忽略10个字节，直到遇到i位置没并且连i也忽略掉。
    cin.putback(&apos;i&apos;);
//忽略i之后再使用cin.putback(&apos;i&apos;);把忽略的i推进去。
    char peek = cin.peek(); //窥探一下，不影响底层指针的走动
    cout &lt;&lt; &quot;peek is :&quot; &lt;&lt; peek &lt;&lt; endl; //打印窥探结果
    cin.get(ch, 20, &apos;/&apos;);
    cout &lt;&lt; &quot;this second part is:&quot; &lt;&lt; ch &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233134233.png" alt="运行结果"></p>
<h2 id="if-fs-while-cin"><a href="#if-fs-while-cin" class="headerlink" title="if(!fs)/while(cin)"></a>if(!fs)/while(cin)</h2><pre><code>#include &lt;iostream&gt;
#include&lt;fstream&gt;
using namespace std;
int main()
{
    fstream fs(&quot;cc.txt&quot;,ios::in); //只有读取文件的权限，没有创建文件的权限
    if (!fs)  //!重载  等价于fs.operator!()
    {
        cout &lt;&lt; &quot;open error&quot; &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233214978.png" alt="运行结果"></p>
<pre><code>#include &lt;iostream&gt;
#include&lt;fstream&gt;
using namespace std;
int main()
{
    char ch;
    while (cin &gt;&gt; ch) //等价于while(cin&gt;&gt;ch,!cin.fail())  也等价于while(cin)
    {
        cout &lt;&lt; ch &lt;&lt; endl;
    }
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233233400.png" alt="运行结果"></p>
<p>上面代码中，体现出cin可以转化为bool，int，void * 等类型。对象自身发生转化。</p>
<p>当是一个对象的时候就会根据已经自身发生一个转化，转化函数，重载都要根据语境调用发生适当的转化。</p>
<h3 id="合法性"><a href="#合法性" class="headerlink" title="合法性"></a>合法性</h3><p>在判断文件打开成功与否或是连续从流中读取数据时，就要用到对流对象的操作，比如 if(!fs)和 while(cin&gt;&gt;val)，我们都知道 cin 是一个流对象，而&gt;&gt;运算符返回左边的流对象，也就是说 cin&gt;&gt;val 返回 cin，于是 while(cin&gt;&gt;val)就变成了 while(cin)，问题就变成了一个流对象在判断语句中的合法性。</p>
<p>不管是 while(cin)还是 if(!fs)，都是合法的，为什么呢？</p>
<p>我们自己定义一个类，然后定义该类的对象，然后使用 if 语句来判断它是不合法的。</p>
<p>这说明，流对象具有某种转换函数，可以将一个流对象转换成判断语句可以识别的类型</p>
<h3 id="operator-void-与-与-operator"><a href="#operator-void-与-与-operator" class="headerlink" title="operator void*()与 与 operator!()"></a>operator void*()与 与 operator!()</h3><p>打开 iostream.h 文件，找到 cin 的定义，发现是来自于 istream.h，其中的模板类basic_istream 继承自 basic_ios，打开 basic_ios 的定义,发现它有两个重载函数。 operator void  *()  const 和<br>operator!() const。这两个函数使得流对象可作为判断语句的内容。</p>
<pre><code>/**
* @brief The quick-and-easy status check.
*
* This allows you to write constructs such as
* &lt;code&gt;if (!a_stream) ...&lt;/code&gt; and
&lt;code&gt;while(a_stream) ...&lt;/code&gt;
*/
operator void*() const //数 转化函数 A A 类对象&gt; -&gt; d void * * 对象
{
return this-&gt;) fail() ? 0 : const_cast&lt;basic_ios*&gt;(this);
}
bool operator! !() const // 运算符重载数 函数 用 对象调用 operator!()
{
return this-&gt; fail();
}</code></pre><h3 id="常见策略"><a href="#常见策略" class="headerlink" title="常见策略"></a>常见策略</h3><p>while(cin) = =&gt; while(!cin.fail()) //while the stream is OK</p>
<p>if(!cin) = =&gt; if(cin.fail()) //if the stream is NOT OK</p>
<h3 id="自测"><a href="#自测" class="headerlink" title="自测"></a>自测</h3><pre><code>#include&lt;iostream&gt;
using namespace std;

class A
{
public:
    A() {}
    ~A() {}
    operator void* ()const   //转化函数  A类对象 void * 对象
    {
        cout &lt;&lt; &quot;operator void* () cast to void*; &quot;;
        return (void*)this;
    }
    bool operator!() const   //运算符重载函数   对象调用 operator!()
    {
        cout &lt;&lt; &quot;bool operator!() return bool; &quot;;
        return true;
    }
};
int main()
{
    A a;
    if (a) cout &lt;&lt; &quot;first&quot; &lt;&lt; endl;
    if (!a) cout &lt;&lt; &quot;second&quot; &lt;&lt; endl;
    return 0;
}</code></pre><p>运行结果为：</p>
<p><img src="https://img-blog.csdnimg.cn/20200411233355909.png" alt="运行结果"></p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://www.teachermin.com" rel="external nofollow noreferrer">MinWengang</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://www.teachermin.com/2020/04/11/C++IO%E6%B5%81/">http://www.teachermin.com/2020/04/11/C++IO%E6%B5%81/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="http://www.teachermin.com" target="_blank">MinWengang</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/C-%E6%B5%81/">
                                    <span class="chip bg-color">C++流</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/04/11/C++%E6%A8%A1%E6%9D%BF%EF%BC%9A%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%92%8C%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8F%8B%E5%85%83/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/9.jpg" class="responsive-img" alt="C++模板：类模板和类模板的友元">
                        
                        <span class="card-title">C++模板：类模板和类模板的友元</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            类模板Stack 类我们先给出我们之前实现的栈结构：
#include &lt;iostream&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;str
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-04-11
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/C/" class="post-category">
                                    C++
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C-%E6%A8%A1%E6%9D%BF/">
                        <span class="chip bg-color">C++模板</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/03/C++%E6%A8%A1%E6%9D%BF%EF%BC%9A%E6%A8%A1%E6%9D%BF%E7%AE%80%E8%BF%B0%EF%BC%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/8.jpg" class="responsive-img" alt="C++模板：模板简述，函数模板详细说明">
                        
                        <span class="card-title">C++模板：模板简述，函数模板详细说明</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            模板语义泛型，即是指具有在多种数据类型上皆可操作的含意。
泛型编程的代表作品 STL 是一种高效、泛型、可交互操作的软件组件。
泛型编程最初诞生于 C++中，目的是为了实现 C++的 STL（标准模板库）。其语言支持机制就是模板（Templ
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-04-03
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/C/" class="post-category">
                                    C++
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C-%E6%A8%A1%E6%9D%BF/">
                        <span class="chip bg-color">C++模板</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="http://www.teachermin.com" target="_blank">MinWengang</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">148.9k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/BeginnerMin" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:451859114@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=451859114" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 451859114" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
